"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7689],{22867:function(e,t,r){r.d(t,{Z:function(){return Z}});var s=r(52322),i=r(13096),n=r(24459),a=r(39097),l=r.n(a),o=r(5632),c=r(41580),d=r(65382),u=r(56930),x=r(73097),h=r(55561),f=r(6554),m=r(64220),p=r(24990),g=r(2448),j=()=>{let e=(0,i.lL)(),t=null==e?void 0:e.slug;return(0,s.jsxs)(p.fC,{delayDuration:0,children:[(0,s.jsx)(p.xz,{type:"button",asChild:!0,className:"px-1",children:(0,s.jsx)(l(),{id:"organization-settings",href:t?"/org/".concat(t,"/general"):"/",children:(0,s.jsx)(g.Z,{size:18,strokeWidth:1.5,className:"text-foreground-light"})})}),(0,s.jsx)(p.h_,{children:(0,s.jsxs)(p.VY,{side:"bottom",children:[(0,s.jsx)(p.Eh,{className:"radix-tooltip-arrow"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Organization settings"})})]})})]})},v=r(2784),b=r(18308),N=r(8237),y=r(6659),w=r(40386),k=r(80088),z=r(66743),C=()=>{var e;let t=(0,b.QJ)(),r=(0,o.useRouter)(),[i,n]=(0,v.useState)(!1),{profile:a}=(0,N.Un)(),{setIsOpen:c}=(0,z.f$)(),{theme:d,setTheme:u}=(0,y.F)(),x=async()=>{await t(),await r.push("/sign-in")};return(0,s.jsxs)(w.h_,{open:i,onOpenChange:()=>n(!i),modal:!1,children:[(0,s.jsx)(w.$F,{asChild:!0,children:(0,s.jsx)("button",{id:"user-settings-dropdown",className:"flex items-center justify-center border font-bold rounded-full h-7 w-7 text-foreground-light bg-surface-100",children:(null==a?void 0:a.first_name)?null==a?void 0:null===(e=a.first_name)||void 0===e?void 0:e[0]:(0,s.jsx)(k.Z,{size:14,strokeWidth:2})})}),(0,s.jsx)(w.AW,{align:"end",className:"w-60",children:(0,s.jsxs)(w.Qk,{children:[(0,s.jsxs)("div",{className:"px-2 py-1.5",children:[(0,s.jsxs)("p",{className:"text-sm text-foreground",children:[null==a?void 0:a.first_name," ",null==a?void 0:a.last_name]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light truncate",children:null==a?void 0:a.primary_email})]},"profile"),(0,s.jsx)(w.VD,{}),(0,s.jsx)(w.Xi,{className:"cursor-pointer",onClick:()=>n(!1),asChild:!0,children:(0,s.jsx)(l(),{href:"/account/me",children:"Preferences"})}),(0,s.jsx)(w.Xi,{className:"cursor-pointer",onClick:()=>n(!1),asChild:!0,children:(0,s.jsx)(l(),{href:"/account/tokens",children:"Access tokens"})}),(0,s.jsx)(w.Xi,{className:"cursor-pointer",onClick:()=>n(!1),asChild:!0,children:(0,s.jsx)(l(),{href:"/account/audit",children:"Audit logs"})}),(0,s.jsx)(w.VD,{}),(0,s.jsxs)(w.Xi,{className:"cursor-pointer",onSelect:()=>{n(!1),c(!0)},children:[(0,s.jsx)("span",{children:"Command menu"}),(0,s.jsx)(w.KM,{children:"âŒ˜K"})]}),(0,s.jsx)(w.VD,{}),(0,s.jsx)(w.Ju,{children:"Theme"}),(0,s.jsxs)(w._x,{value:d,onValueChange:e=>{u(e)},children:[(0,s.jsx)(w.qB,{value:"system",children:"System"}),(0,s.jsx)(w.qB,{value:"dark",children:"Dark"}),(0,s.jsx)(w.qB,{value:"light",children:"Light"})]}),(0,s.jsx)(w.VD,{}),(0,s.jsx)(w.Xi,{className:"cursor-pointer",onClick:()=>{x(),n(!1)},children:(0,s.jsx)("span",{children:"Log out"})})]})})]})},_=()=>{let e=(0,o.useRouter)(),{ref:t}=(0,n.UO)(),r=(0,i.Vm)(),a=(0,i.lL)(),p=(null==r?void 0:r.is_branch_enabled)===!0||(null==r?void 0:r.parent_project_ref)!==void 0;return(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-1 bg-studio border-b",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(l(),{href:void 0!==a?"/org/".concat(null==a?void 0:a.slug):"/",className:"block mr-3",children:(0,s.jsx)("img",{src:"".concat(e.basePath,"/img/supabase-logo.svg"),alt:"Supabase",className:"mx-auto h-[40px] w-6 cursor-pointer rounded"})}),(0,s.jsx)(f.Z,{isNewNav:!0}),void 0!==t&&(0,s.jsx)(m.Z,{isNewNav:!0}),void 0!==t&&(0,s.jsx)(s.Fragment,{children:p?(0,s.jsx)(x.Z,{isNewNav:!0}):(0,s.jsx)(h.Z,{isNewNav:!0})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.v,{}),(0,s.jsx)(u.Z,{}),(0,s.jsx)(d.Z,{}),(0,s.jsx)(j,{})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)(C,{})})]})]})},Z=e=>{let{children:t}=e,r=(0,i.P5)("navigationLayoutV2");return(0,s.jsxs)("div",{className:"h-screen min-h-[0px] basis-0 flex-1",children:[r&&(0,s.jsx)(_,{}),t]})}},73097:function(e,t,r){var s=r(52322),i=r(3016),n=r(744),a=r(39097),l=r.n(a),o=r(5632),c=r(2784),d=r(24459),u=r(54175),x=r(39668),h=r(13096),f=r(54511),m=r(16166),p=r(98938),g=r(26120),j=r(27792),v=r(30792),b=r(81733),N=r(80203),y=r(64220);let w=e=>{var t;let{branch:r,isSelected:i,setOpen:n}=e,a=(0,o.useRouter)(),c=(0,y.u)(a.route,a.query),d=null!==(t=null==c?void 0:c.replace("[ref]",r.project_ref))&&void 0!==t?t:"/project/".concat(r.project_ref);return(0,s.jsx)(l(),{passHref:!0,href:d,children:(0,s.jsxs)(f.di,{value:r.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{n(!1),a.push(d)},onClick:()=>{n(!1)},children:[(0,s.jsx)("p",{className:"truncate w-60",title:r.name,children:r.name}),i&&(0,s.jsx)(m.Z,{})]})})};t.Z=e=>{let{isNewNav:t=!1}=e,r=(0,o.useRouter)(),{ref:a}=(0,d.UO)(),m=(0,h.Vm)(),y=(null==m?void 0:m.parent_project_ref)!==void 0,k=void 0!==m?y?m.parent_project_ref:a:void 0,{data:z,isLoading:C,isError:_,isSuccess:Z}=(0,x.V)({projectRef:k}),[P,S]=(0,c.useState)(!1),Y=null==z?void 0:z.find(e=>e.project_ref===a),F="https://github.com/orgs/supabase/discussions/18937";return(0,s.jsxs)(s.Fragment,{children:[C&&(0,s.jsx)(u.Z,{className:"w-[90px]"}),_&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,s.jsx)(p.Z,{size:16,strokeWidth:2}),(0,s.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),Z&&z.length>0&&(0,s.jsx)("div",{className:"flex items-center px-2",children:(0,s.jsxs)(g.J2,{open:P,onOpenChange:S,modal:!1,children:[(0,s.jsx)(g.xo,{asChild:!0,children:(0,s.jsx)(j.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(v.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:null==Y?void 0:Y.name}),(null==Y?void 0:Y.is_default)?(0,s.jsx)(b.C,{variant:"warning",children:"Production"}):(0,s.jsx)(b.C,{variant:"brand",children:"Preview Branch"})]})})}),(0,s.jsx)(g.yk,{className:"p-0",side:"bottom",align:"start",children:(0,s.jsxs)(f.mY,{children:[(0,s.jsx)(f.sZ,{placeholder:"Find branch..."}),(0,s.jsxs)(f.e8,{children:[(0,s.jsx)(f.rb,{children:"No branches found"}),(0,s.jsx)(f.fu,{children:(0,s.jsx)(N.x,{className:"max-h-[210px] overflow-y-auto",children:null==z?void 0:z.map(e=>(0,s.jsx)(w,{branch:e,isSelected:e.id===(null==Y?void 0:Y.id),setOpen:S},e.id))})}),(0,s.jsx)(f.zz,{}),(0,s.jsx)(f.fu,{children:(0,s.jsx)(f.di,{className:"cursor-pointer w-full",onSelect:e=>{S(!1),r.push("/project/".concat(a,"/branches"))},onClick:()=>S(!1),children:(0,s.jsxs)(l(),{href:"/project/".concat(a,"/branches"),className:"w-full flex items-center gap-2",children:[(0,s.jsx)(i.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"Manage branches"})]})})}),(0,s.jsx)(f.zz,{}),(0,s.jsx)(f.fu,{children:(0,s.jsx)(f.di,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;S(!1),null===(t=window)||void 0===t||null===(e=t.open(F,"_blank"))||void 0===e||e.focus()},onClick:()=>S(!1),children:(0,s.jsxs)(l(),{href:F,target:"_blank",onClick:()=>{S(!1)},className:"w-full flex gap-2",children:[(0,s.jsx)(n.Z,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Branching feedback"}),(0,s.jsx)("p",{className:"text-lighter",children:"Join Github Discussion"})]})]})})})]})]})})]})})]})}},55561:function(e,t,r){r.d(t,{Z:function(){return f}});var s=r(52322),i=r(40414),n=r(27792),a=r(91932),l=r(13096),o=r(65981),c=r(2784),d=r(26120),u=r(81733),x=r(39127),h=e=>{let{isNewNav:t=!1}=e,[r,i]=(0,c.useState)(!1);return(0,s.jsxs)(d.J2,{open:r,onOpenChange:i,modal:!1,children:[(0,s.jsx)(d.xo,{asChild:!0,children:(0,s.jsx)(n.z,{type:t?"default":"text",icon:(0,s.jsx)(a.Z,{strokeWidth:1.5}),children:"Enable branching"})}),(0,s.jsxs)(d.yk,{align:"start",side:"bottom",className:"flex flex-col gap-4 w-80",children:[(0,s.jsx)("div",{children:(0,s.jsx)(u.C,{children:"Alpha Testing"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Z,{strokeWidth:2}),(0,s.jsx)("p",{children:"Database Branching"})]}),(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Database Branching is currently in early access and not available publicly yet."}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(n.z,{type:"default",icon:(0,s.jsx)(x.Z,{strokeWidth:1.5}),asChild:!0,children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/branching",children:"View the docs"})})})]})]})},f=e=>{let{isNewNav:t=!1}=e,r=(0,o.WZ)(),c=(0,l.Vm)();return(0,l.P5)("branchManagement")?(0,s.jsxs)(i.u,{children:[(0,s.jsx)(i.aJ,{asChild:!0,children:(0,s.jsx)(n.z,{type:t?"default":"text",icon:(0,s.jsx)(a.Z,{strokeWidth:1.5}),disabled:(null==c?void 0:c.status)!=="ACTIVE_HEALTHY",onClick:()=>r.setShowEnableBranchingModal(!0),children:"Enable branching"})}),(null==c?void 0:c.status)!=="ACTIVE_HEALTHY"&&(0,s.jsx)(i._v,{side:"bottom",children:"Unpause your project to enable branching"})]}):(0,s.jsx)(h,{isNewNav:t})}},6554:function(e,t,r){var s=r(52322),i=r(39097),n=r.n(i),a=r(5632),l=r(2784),o=r(54175),c=r(5761),d=r(4646),u=r(13096),x=r(26120),h=r(27792),f=r(30792),m=r(81733),p=r(54511),g=r(80203),j=r(16166),v=r(14279);t.Z=e=>{let{isNewNav:t=!1}=e,r=(0,a.useRouter)(),i=(0,u.lL)(),{data:b,isLoading:N}=(0,c.tl)(),y=(0,u.N3)("organizations:create"),w=null==i?void 0:i.slug,k=null==i?void 0:i.name,{data:z,isSuccess:C}=(0,d.G)({orgSlug:w}),[_,Z]=(0,l.useState)(!1);return N?(0,s.jsx)(o.Z,{className:"w-[90px]"}):(0,s.jsx)("div",{className:"flex items-center px-2 py-1",children:(0,s.jsxs)(x.J2,{open:_,onOpenChange:Z,modal:!1,children:[(0,s.jsx)(x.xo,{asChild:!0,children:(0,s.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,s.jsx)(h.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(f.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:k}),C&&(0,s.jsx)(m.C,{variant:"default",children:null==z?void 0:z.plan.name})]})})})}),(0,s.jsx)(x.yk,{className:"p-0",side:"bottom",align:"start",children:(0,s.jsxs)(p.mY,{children:[(0,s.jsx)(p.sZ,{placeholder:"Find organization..."}),(0,s.jsxs)(p.e8,{children:[(0,s.jsx)(p.rb,{children:"No organizations found"}),(0,s.jsx)(p.fu,{children:(0,s.jsx)(g.x,{className:(b||[]).length>7?"h-[210px]":"",children:null==b?void 0:b.map(e=>{let i=r.pathname.includes("[slug]")?r.pathname.replace("[slug]",e.slug):t?"/org/".concat(e.slug):"/org/".concat(e.slug,"/general");return(0,s.jsx)(p.di,{value:"".concat(e.name.replaceAll('"',"")," - ").concat(e.slug),className:"cursor-pointer w-full",onSelect:()=>{Z(!1),r.push(i)},onClick:()=>Z(!1),children:(0,s.jsxs)(n(),{href:i,className:"w-full flex items-center justify-between",children:[e.name,e.slug===w&&(0,s.jsx)(j.Z,{})]})},e.slug)})})}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.zz,{}),(0,s.jsx)(p.fu,{children:(0,s.jsx)(p.di,{className:"cursor-pointer w-full",onSelect:e=>{Z(!1),r.push("/new")},onClick:()=>Z(!1),children:(0,s.jsxs)(n(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,s.jsx)(v.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})})}},64220:function(e,t,r){r.d(t,{u:function(){return b}});var s=r(52322),i=r(39097),n=r.n(i),a=r(5632),l=r(2784),o=r(24459),c=r(54175),d=r(92378),u=r(13096),x=r(76626),h=r(54511),f=r(16166),m=r(26120),p=r(27792),g=r(30792),j=r(80203),v=r(14279);let b=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let r="bucketId"in t;return e.split("/").slice(0,r?5:4).join("/")}},N=e=>{var t;let{project:r,setOpen:i}=e,l=(0,a.useRouter)(),{ref:c}=(0,o.UO)(),d=b(l.route,l.query),u=null!==(t=null==d?void 0:d.replace("[ref]",r.ref))&&void 0!==t?t:"/project/".concat(r.ref);return(0,s.jsx)(h.di,{value:"".concat(r.name.replaceAll('"',""),"-").concat(r.ref),className:"cursor-pointer w-full",onSelect:()=>{l.push(u),i(!1)},onClick:()=>i(!1),children:(0,s.jsxs)(n(),{href:u,className:"w-full flex items-center justify-between",children:[r.name,r.ref===c&&(0,s.jsx)(f.Z,{})]})},r.ref)};t.Z=e=>{let{isNewNav:t=!1}=e,r=(0,a.useRouter)(),{ref:i}=(0,o.UO)(),f=(0,u.Vm)(),b=(0,u.lL)(),{data:y,isLoading:w}=(0,d.Sy)(),k=(0,u.N3)("projects:create"),z=(null==f?void 0:f.parentRef)!==(null==f?void 0:f.ref),C=t?null==y?void 0:y.filter(e=>e.organization_id===(null==b?void 0:b.id)).sort((e,t)=>e.name.localeCompare(t.name)):null==y?void 0:y.sort((e,t)=>e.name.localeCompare(t.name)),_=z?null==C?void 0:C.find(e=>e.ref===(null==f?void 0:f.parentRef)):null==C?void 0:C.find(e=>e.ref===i),[Z,P]=(0,l.useState)(!1);return w||!_?(0,s.jsx)(c.Z,{className:"w-[90px]"}):x.Qy?(0,s.jsx)("div",{className:"flex items-center px-2",children:(0,s.jsxs)(m.J2,{open:Z,onOpenChange:P,modal:!1,children:[(0,s.jsx)(m.xo,{asChild:!0,children:(0,s.jsx)(p.z,{type:"text",className:"pr-2",iconRight:(0,s.jsx)(g.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:t?"text-sm":"text-xs",children:null==_?void 0:_.name})})})}),(0,s.jsx)(m.yk,{className:"p-0",side:"bottom",align:"start",children:(0,s.jsxs)(h.mY,{children:[(0,s.jsx)(h.sZ,{placeholder:"Find project..."}),(0,s.jsxs)(h.e8,{children:[(0,s.jsx)(h.rb,{children:"No projects found"}),(0,s.jsx)(h.fu,{children:(0,s.jsx)(j.x,{className:(C||[]).length>7?"h-[210px]":"",children:null==C?void 0:C.map(e=>(0,s.jsx)(N,{project:e,setOpen:P},e.ref))})}),k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.zz,{}),(0,s.jsx)(h.fu,{children:(0,s.jsx)(h.di,{className:"cursor-pointer w-full",onSelect:()=>{P(!1),r.push("/new/".concat(null==b?void 0:b.slug))},onClick:()=>P(!1),children:(0,s.jsxs)(n(),{href:"/new/".concat(null==b?void 0:b.slug),onClick:()=>{P(!1)},className:"w-full flex items-center gap-2",children:[(0,s.jsx)(v.Z,{size:14,strokeWidth:1.5}),(0,s.jsx)("p",{children:"New project"})]})})})]})]})]})})]})}):(0,s.jsx)(p.z,{type:"text",children:(0,s.jsx)("span",{className:t?"text-sm":"text-xs",children:null==_?void 0:_.name})})}},56930:function(e,t,r){r.d(t,{Z:function(){return et}});var s=r(52322),i=r(6277),n=r(2784),a=r(62202),l=r(26120),o=r(27792),c=r(32281),d=r(33105),u=r(57372),x=r(72339),h=r(54175),f=r(85945),m=r(48228),p=r(49422);async function g(){let{data:e,error:t}=await (0,p.r$)("/platform/notifications/archive-all",{headers:{Version:"2"}});if(t)throw t;return e}let j=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,f.NL)();return(0,m.D)(()=>g(),{async onSuccess(t,r,i){await s.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,r,i))},async onError(e,r,s){void 0===t?a.Am.error("Failed to archive all notifications: ".concat(e.message)):t(e,r,s)},...r})};var v=r(59403);async function b(e,t){let{status:r,filters:s,page:i=0,limit:n=10}=e,{data:a,error:l}=await (0,p.U2)("/platform/notifications",{params:{query:{offset:i*n,limit:n,...void 0!==r?{status:r}:{status:["new","seen"]},...s.priority.length>0?{priority:s.priority}:{},...s.organizations.length>0?{org_slug:s.organizations}:{},...s.projects.length>0?{project_ref:s.projects}:{}}},headers:{Version:"2"},signal:t});if(l)throw l;return a}let N=function(e){let{status:t,filters:r,limit:s=10}=e,{enabled:i=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.N)(["notifications",{status:t,filters:r,limit:s}],e=>{let{signal:i,pageParam:n}=e;return b({status:t,filters:r,limit:s,page:n},i)},{enabled:i,getNextPageParam(e,t){let r=t.length;if(!(e.length<s))return r},...n})};var y=r(36492);async function w(e){let{data:t,error:r}=await (0,p.U2)("/platform/notifications/summary",{signal:e});if(r)throw r;return t}let k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.a)(["notifications","summary"],e=>{let{signal:t}=e;return w(t)},e)};async function z(e){let{ids:t,status:r}=e,{data:s,error:i}=await (0,p.r$)("/platform/notifications",{body:t.map(e=>({id:e,status:r})),headers:{Version:"2"}});if(i)throw i;return s}let C=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,f.NL)();return(0,m.D)(e=>z(e),{async onSuccess(t,r,i){await s.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,r,i))},async onError(e,r,s){void 0===t?a.Am.error("Failed to update notifications: ".concat(e.message)):t(e,r,s)},...r})};var _=r(5761),Z=r(92378),P=r(9162),S=r(4741);let Y=(0,P.sj)({filterStatuses:[],filterPriorities:[],filterOrganizations:[],filterProjects:[],get numFiltersApplied(){return[...this.filterStatuses,...this.filterPriorities,...this.filterOrganizations,...this.filterProjects].length},setFilters:(e,t)=>{switch(t){case"status":Y.filterStatuses.includes(e)?Y.filterStatuses=Y.filterStatuses.filter(t=>t!==e):Y.filterStatuses=Y.filterStatuses.concat([e]);break;case"priority":Y.filterPriorities.includes(e)?Y.filterPriorities=Y.filterPriorities.filter(t=>t!==e):Y.filterPriorities=Y.filterPriorities.concat([e]);break;case"organizations":Y.filterOrganizations.includes(e)?Y.filterOrganizations=Y.filterOrganizations.filter(t=>t!==e):Y.filterOrganizations=Y.filterOrganizations.concat([e]);break;case"projects":Y.filterProjects.includes(e)?Y.filterProjects=Y.filterProjects.filter(t=>t!==e):Y.filterProjects=Y.filterProjects.concat([e])}},resetFilters:()=>{Y.filterStatuses=[],Y.filterPriorities=[],Y.filterOrganizations=[],Y.filterProjects=[]}}),F=e=>(0,S.R)(Y,e);var R=r(24990),O=r(28879),A=r.n(O),L=r(94552),W=r(39097),V=r.n(W),U=r(20360),I=r(12467),D=r(39127),E=r(71234),B=r(86073),T=e=>{var t;let{index:r,listRef:i,item:a,setRowHeight:l,getProject:c,getOrganizationById:d,getOrganizationBySlug:x,onUpdateNotificationStatus:h,queueMarkRead:f}=e,m=(0,n.useRef)(null),{ref:p,inView:g}=(0,U.YD)(),{status:j,priority:v}=a,b=a.data,N=void 0!==b.project_ref?c(b.project_ref):void 0,y=void 0!==b.org_slug?x(b.org_slug):void 0!==N?d(N.organization_id):void 0,w=A()().diff(A()(a.inserted_at),"day"),k=A()(a.inserted_at).fromNow(),z=A()(a.inserted_at).format("MMM DD, YYYY"),C=e=>{console.log("Action",e)};return(0,n.useEffect)(()=>{if(m.current){var e;null==i||null===(e=i.current)||void 0===e||e.resetAfterIndex(0),l(r,m.current.clientHeight)}},[m]),(0,n.useEffect)(()=>{g&&"new"===a.status&&f(a.id)},[g]),(0,s.jsxs)("div",{ref:m,className:(0,I.cn)("p-4 flex justify-between gap-x-3 group",0!==r?"border-t border-overlay":"","new"===j?"bg-surface-100/50":"bg-background"),children:[(0,s.jsxs)("div",{ref:p,className:"flex flex-col gap-y-2.5 w-full py-0.5",children:[(void 0!==N||void 0!==y)&&(0,s.jsxs)("div",{className:"flex items-center max-w-[350px]",children:[void 0!==y&&(0,s.jsx)(V(),{title:y.name,href:"/org/".concat(y.slug,"/general"),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:y.name}),void 0!==y&&void 0!==N&&(0,s.jsx)("span",{className:"text-foreground-lighter",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,s.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),void 0!==N&&(0,s.jsx)(V(),{title:N.name,href:"/project/".concat(N.ref),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:N.name})]}),(0,s.jsx)("div",{className:"flex items-center gap-x-2",children:(0,s.jsxs)("p",{className:"text-sm break-word",children:[b.title," ",(0,s.jsx)("span",{className:"ml-1 text-xs text-foreground-light capitalize-sentence",children:w>1?z:k})]})}),void 0!==b.message&&(0,s.jsx)(B.U,{className:"text-foreground-light text-xs",content:b.message}),(null!==(t=b.actions)&&void 0!==t?t:[]).length>0&&(0,s.jsx)("div",{className:"flex items-center gap-x-2",children:b.actions.map((e,t)=>{let r="".concat(a.id,"-action-").concat(t);if(void 0!==e.url){var i,n;let t=e.url.includes("[ref]")?e.url.replace("[ref]",null!==(i=null==N?void 0:N.ref)&&void 0!==i?i:"_"):e.url.includes("[slug]")?e.url.replace("[slug]",null!==(n=null==y?void 0:y.slug)&&void 0!==n?n:"_"):e.url;return(0,s.jsx)(o.z,{type:"default",icon:(0,s.jsx)(D.Z,{strokeWidth:1.5,size:14}),asChild:!0,children:(0,s.jsx)(V(),{href:t,target:"_blank",rel:"noreferrer",children:e.label})},r)}return void 0!==e.action_type?(0,s.jsx)(o.z,{type:"default",onClick:()=>C(e.action_type),children:e.label},r):null})})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-y-2",children:["Warning"===v&&(0,s.jsx)(u.aN,{className:"w-5 h-5"}),"Critical"===v&&(0,s.jsx)(u.ku,{className:"w-5 h-5"}),"archived"===a.status?(0,s.jsxs)(R.fC,{delayDuration:0,children:[(0,s.jsx)(R.xz,{asChild:!0,children:(0,s.jsx)(o.z,{type:"outline",icon:(0,s.jsx)(L.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>h(a.id,"seen")})}),(0,s.jsx)(R.h_,{children:(0,s.jsxs)(R.VY,{side:"bottom",children:[(0,s.jsx)(R.Eh,{className:"radix-tooltip-arrow"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Unarchive"})})]})})]}):(0,s.jsxs)(R.fC,{delayDuration:0,children:[(0,s.jsx)(R.xz,{asChild:!0,children:(0,s.jsx)(o.z,{type:"outline",icon:(0,s.jsx)(E.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>h(a.id,"archived")})}),(0,s.jsx)(R.h_,{children:(0,s.jsxs)(R.VY,{side:"bottom",children:[(0,s.jsx)(R.Eh,{className:"radix-tooltip-arrow"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsx)("span",{className:"text-xs text-foreground",children:"Archive"})})]})})]})]})]})},M=r(98054),q=r(11006),J=r(54511),X=r(80203),H=r(40386),Q=r(88130),G=r(18227);let $=e=>{let{activeTab:t}=e,[r,i]=(0,n.useState)(!1),a=F(),{data:c}=(0,_.tl)(),{data:d}=(0,Z.Sy)();return(0,s.jsxs)(l.J2,{modal:!0,open:r,onOpenChange:i,children:[(0,s.jsx)(l.xo,{asChild:!0,children:(0,s.jsx)(o.z,{type:a.numFiltersApplied>0?"default":"text",icon:(0,s.jsx)(M.Z,{size:14,strokeWidth:1}),className:"px-1 h-[26px]",children:a.numFiltersApplied>0&&"".concat(a.numFiltersApplied," filter").concat(a.numFiltersApplied>1?"s":""," applied")})}),(0,s.jsx)(l.yk,{className:"p-0 w-64",side:"bottom",align:"end",children:(0,s.jsxs)(J.mY,{children:[(0,s.jsx)(J.sZ,{placeholder:"Find filter..."}),(0,s.jsxs)(X.x,{className:"max-h-[240px] py-1 overflow-y-auto",children:[(0,s.jsxs)(J.fu,{children:[(0,s.jsx)(H.Ju,{children:"Status"}),(0,s.jsx)(J.di,{disabled:"archived"===t,onSelect:()=>{a.setFilters("unread","status")},children:(0,s.jsxs)(Q._,{htmlFor:"unread",className:(0,I.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",a.filterStatuses.includes("unread")&&"text-foreground"),children:[(0,s.jsx)(G.X,{name:"unread",checked:a.filterStatuses.includes("unread")}),"Unread"]})})]}),(0,s.jsx)(J.zz,{}),(0,s.jsxs)(J.fu,{children:[(0,s.jsx)(H.Ju,{children:"Priority"}),(0,s.jsx)(J.di,{onSelect:()=>{a.setFilters("Warning","priority")},className:"flex items-center gap-x-2",children:(0,s.jsxs)(Q._,{htmlFor:"warning",className:(0,I.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",a.filterPriorities.includes("Warning")&&"text-foreground"),children:[(0,s.jsx)(G.X,{name:"warning",checked:a.filterPriorities.includes("Warning")}),(0,s.jsx)(u.aN,{className:"w-2 h-2"}),"Warning"]})}),(0,s.jsx)(J.di,{onSelect:()=>{a.setFilters("Critical","priority")},children:(0,s.jsxs)(Q._,{htmlFor:"critical",className:(0,I.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",a.filterPriorities.includes("Critical")&&"text-foreground"),children:[(0,s.jsx)(G.X,{name:"critical",checked:a.filterPriorities.includes("Critical")}),(0,s.jsx)(u.ku,{className:"w-2 h-2"}),"Critical"]})},"critical")]}),(0,s.jsx)(J.zz,{}),(0,s.jsxs)(J.fu,{children:[(0,s.jsx)(H.Ju,{children:"Organizations"}),(null!=c?c:[]).map(e=>(0,s.jsx)(J.di,{value:e.name.replaceAll('"',""),className:"flex items-center gap-x-2",onSelect:()=>{a.setFilters(e.slug,"organizations")},children:(0,s.jsxs)(Q._,{htmlFor:"".concat(e.slug),className:(0,I.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",a.filterOrganizations.includes(e.slug)&&"text-foreground"),children:[(0,s.jsx)(G.X,{name:"".concat(e.slug),checked:a.filterOrganizations.includes(e.slug),className:""}),e.name]})},e.slug))]}),(0,s.jsx)(J.zz,{}),(0,s.jsxs)(J.fu,{children:[(0,s.jsx)(H.Ju,{children:"Projects"}),(null!=d?d:[]).map(e=>(0,s.jsx)(J.di,{className:"flex items-center gap-x-2",onSelect:t=>{a.setFilters(e.ref,"projects")},children:(0,s.jsxs)(Q._,{htmlFor:"".concat(e.ref),className:(0,I.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",a.filterProjects.includes(e.ref)&&"text-foreground"),children:[(0,s.jsx)(G.X,{name:"".concat(e.ref),checked:a.filterProjects.includes(e.ref),className:""}),e.name]})},e.ref))]})]}),(0,s.jsx)(J.zz,{}),(0,s.jsx)(J.fu,{children:(0,s.jsxs)(J.di,{onSelect:()=>a.resetFilters(),className:"flex gap-x-2 items-center",children:[(0,s.jsx)(q.Z,{className:"text-foreground-muted",size:12,strokeWidth:1}),"Reset filters"]})})]})})]})};var K=r(40065),ee=r(14072),et=()=>{var e,t,r;let[f,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)("inbox"),v=F(),b=(0,n.useRef)([]),y=(0,n.useRef)({}),{data:w}=(0,Z.Sy)(),{data:z}=(0,_.tl)(),{data:P,error:S,isLoading:Y,isError:R,isSuccess:O,hasNextPage:A,isFetchingNextPage:L,fetchNextPage:W}=N({status:"archived"===p?"archived":v.filterStatuses.includes("unread")?"new":void 0,filters:{priority:v.filterPriorities,organizations:v.filterOrganizations,projects:v.filterProjects}}),{data:V}=k(),{mutate:U}=C(),{mutate:I,isLoading:D}=j({onSuccess:()=>a.ZP.success("Successfully archived all notifications")}),E=(0,n.useMemo)(()=>{var e;return null!==(e=null==P?void 0:P.pages.flatMap(e=>e))&&void 0!==e?e:[]},[null==P?void 0:P.pages]),B=null!==(e=null==V?void 0:V.unread_count)&&void 0!==e&&e,M=null==V?void 0:V.has_warning,q=null==V?void 0:V.has_critical,J=()=>{b.current.length>0&&U({ids:b.current,status:"seen"})};return(0,s.jsxs)(l.J2,{modal:!1,open:f,onOpenChange:e=>{m(e),e||J()},children:[(0,s.jsx)(l.xo,{asChild:!0,children:(0,s.jsx)(o.z,{type:B?"outline":"text",className:(0,i.default)("h-[26px]","group",B?"rounded-full px-1.5":"px-1",q?"border-destructive-500 hover:border-destructive-600 hover:bg-destructive-300":M?"border-warning-500 hover:border-warning-600 hover:bg-warning-300":""),icon:q?(0,s.jsx)(u.ku,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):M?(0,s.jsx)(u.aN,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):B?(0,s.jsx)("div",{className:(0,i.default)("transition-all -mr-3 group-hover:-mr-1","z-10 h-4 flex items-center justify-center rounded-full bg-black dark:bg-white",(null!==(t=null==V?void 0:V.unread_count)&&void 0!==t?t:0)>9?"px-0.5 w-auto":"w-4"),children:(0,s.jsx)("p",{className:"text-xs text-background-alternative",children:null==V?void 0:V.unread_count})}):null,iconRight:(0,s.jsx)(K.Z,{size:18,strokeWidth:1.5,className:"transition group-hover:text-foreground text-foreground-light"})})}),(0,s.jsxs)(l.yk,{className:"p-0 w-[450px] overflow-hidden",side:"bottom",align:"end",children:[(0,s.jsxs)("div",{className:"px-4",children:[(0,s.jsx)("p",{className:"pt-4 pb-1 text-sm",children:"Notifications"}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(c.mQ,{className:"w-full",onValueChange:e=>{g(e),"archived"===e&&v.filterStatuses.includes("unread")&&v.setFilters("unread","status")},value:p,children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)(c.dr,{className:"flex gap-5 grow border-none",children:[(0,s.jsxs)(c.SP,{id:"inbox",value:"inbox",className:"px-0 data-[state=active]:bg-transparent flex gap-2",children:["Inbox",(0,s.jsx)("div",{className:(0,i.default)(["flex items-center justify-center text-xs rounded-full bg-surface-300 h-4",(null!==(r=null==V?void 0:V.unread_count)&&void 0!==r?r:0)>9?"px-0.5 w-auto":"w-4"]),children:null==V?void 0:V.unread_count})]}),(0,s.jsx)(c.SP,{id:"archived",value:"archived",className:"px-0 data-[state=active]:bg-transparent",children:"Archived"})]}),(0,s.jsx)($,{activeTab:p})]})})})]}),(0,s.jsxs)("div",{className:"border-t",children:[Y&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(h.A,{})}),R&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(d.Z,{subject:"Failed to retrieve notifications",error:S})}),O&&(0,s.jsx)("div",{className:"flex flex-1 h-[400px] bg-background",children:E.length>0&&!("archived"===p&&v.filterStatuses.includes("unread"))?(0,s.jsx)(x.Z,{items:E,ItemComponent:T,LoaderComponent:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(h.Z,{})}),itemProps:{setRowHeight:(e,t)=>{y.current&&(y.current={...y.current,[e]:t})},getProject:e=>null==w?void 0:w.find(t=>t.ref===e),getOrganizationById:e=>null==z?void 0:z.find(t=>t.id===e),getOrganizationBySlug:e=>null==z?void 0:z.find(t=>t.slug===e),onUpdateNotificationStatus:(e,t)=>{U({ids:[e],status:t})},queueMarkRead:e=>{b.current&&!b.current.includes(e)&&b.current.push(e)}},getItemSize:e=>{var t,r;return null!==(r=null==y?void 0:null===(t=y.current)||void 0===t?void 0:t[e])&&void 0!==r?r:56},hasNextPage:A,isLoadingNextPage:L,onLoadNextPage:()=>W()}):(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 items-center flex-grow justify-center",children:[(0,s.jsx)(K.Z,{size:32,className:"text-foreground-light"}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsx)("p",{className:"text-foreground-light text-sm mx-auto text-center",children:"archived"===p?"No archived notifications".concat(v.numFiltersApplied>0?" based on the ".concat(v.numFiltersApplied," filter").concat(v.numFiltersApplied>1?"s":""," applied"):""):v.numFiltersApplied>0?"No notifications based on the ".concat(v.numFiltersApplied," filter").concat(v.numFiltersApplied>1?"s":""," applied"):"All caught up"}),(0,s.jsx)("p",{className:"text-foreground-lighter text-xs w-60 mx-auto text-center",children:"archived"===p?"Notifications that you have previously archived will be shown here":"You will be notified here for any notices on your organizations and projects"})]})]})})]}),E.length>0&&"inbox"===p&&(0,s.jsx)("div",{className:"flex items-center justify-center p-1.5 border-t",children:(0,s.jsx)(o.z,{disabled:D,loading:D,type:"text",icon:(0,s.jsx)(ee.Z,{}),onClick:()=>I(),children:"Archive all"})})]})]})}},33105:function(e,t,r){var s=r(52322),i=r(39097),n=r.n(i),a=r(72860),l=r(98938),o=r(27792);t.Z=e=>{let{ref:t,subject:r,error:i,className:c}=e,d=null==r?void 0:r.replace(/ /g,"%20"),u="/support/new?category=dashboard_bug";t&&(u+="&ref=".concat(t)),d&&(u+="&subject=".concat(d)),i&&(u+="&message=Error:%20".concat(i.message));let x=(null==i?void 0:i.message.includes("503"))?"503 Service Temporarily Unavailable":null==i?void 0:i.message;return(0,s.jsxs)(a.bZ,{className:c,variant:"warning",title:r,children:[(0,s.jsx)(l.Z,{className:"h-4 w-4",strokeWidth:2}),(0,s.jsx)(a.Cd,{children:r}),(0,s.jsxs)(a.X,{className:"flex flex-col gap-3 break-words",children:[(0,s.jsxs)("div",{children:[(null==i?void 0:i.message)&&(0,s.jsxs)("p",{children:["Error: ",x]}),(0,s.jsx)("p",{children:"Try refreshing your browser, but if the issue persists, please reach out to us via support."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(o.z,{asChild:!0,type:"warning",children:(0,s.jsx)(n(),{href:u,children:"Contact support"})})})]})]})}},72339:function(e,t,r){var s=r(52322),i=r(36631),n=r(2784),a=r(6738),l=r(50166),o=r(11628),c=r(54175),d=r(5388);let u=(0,i.Z)((e,t)=>({items:e,...t})),x=(0,n.memo)(e=>{let{data:t,index:r,style:i}=e,{items:n,itemProps:a,ItemComponent:l,listRef:o,LoaderComponent:d}=t,u=r<n.length?n[r]:void 0;return u?(0,s.jsx)("div",{style:i,children:(0,s.jsx)(l,{index:r,item:u,listRef:o,...a})}):void 0!==d?(0,s.jsx)("div",{style:i,children:d}):(0,s.jsxs)("div",{className:"space-y-1 my-1",style:i,children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)(c.Z,{}),(0,s.jsx)(c.Z,{})]})},l.wy);x.displayName="Item",t.Z=(0,n.memo)(function(e){let{items:t=[],itemProps:r,hasNextPage:i=!1,isLoadingNextPage:c=!1,getItemSize:d=()=>40,onLoadNextPage:h=()=>{},ItemComponent:f=()=>null,LoaderComponent:m}=e,p=(0,n.useRef)(),g=c?()=>{}:h,j=e=>!i||e<t.length,v=i?t.length+1:t.length,b=u(t,{itemProps:r,ItemComponent:f,LoaderComponent:m,listRef:p});return(0,s.jsxs)("div",{className:"relative flex flex-col flex-grow",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(a.ZP,{children:e=>{let{height:t,width:r}=e;return(0,s.jsx)(o.Z,{itemCount:v,isItemLoaded:j,loadMoreItems:g,children:e=>{let{onItemsRendered:i,ref:n}=e;return(0,s.jsx)(l.S_,{ref:e=>{n(e),p.current=e},height:null!=t?t:0,width:null!=r?r:0,itemCount:v,itemData:b,itemSize:d,onItemsRendered:i,children:x})}})}})}),(0,s.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},d.t0)},44549:function(e,t,r){r.d(t,{x:function(){return s}});let s={is_readonly_mode_enabled:{bannerContent:{warning:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"},critical:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"}},cardContent:{warning:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."},critical:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."}},docsUrl:"https://supabase.com/docs/guides/platform/database-size#disabling-read-only-mode",buttonText:"View database settings",metric:"read_only"},disk_io_exhaustion:{bannerContent:{warning:{title:"Your project is about to deplete its Disk IO Budget, and may become unresponsive once fully exhausted",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project has depleted its Disk IO Budget, and may become unresponsive",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project is depleting its Disk IO Budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has depleted its Disk IO Budget",description:"It may become unresponsive"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-disk-io",buttonText:"Check usage",metric:"disk_io"},disk_space_exhaustion:{bannerContent:{warning:{title:"Your project is about to exhaust its available disk space, and may become unresponsive once fully exhausted",description:"You can opt to increase your disk size up to 200GB on the database settings page."},critical:{title:"Your project has exhausted its available disk space, and may become unresponsive",description:"You can opt to increase your disk size up to 200GB on the database settings page."}},cardContent:{warning:{title:"Project is exhausting its available disk space",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has exhausted its available disk space",description:"It may become unresponsive"}},docsUrl:"https://supabase.com/docs/guides/platform/database-size#disk-management",buttonText:void 0,metric:"disk_space"},cpu_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high CPU usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's CPU usage is at 100% and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high CPU usage",description:"Performance is affected"},critical:{title:"Project CPU usage is at 100%",description:"Performance is affected"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-cpu",buttonText:"Check usage",metric:"cpu"},memory_and_swap_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high memory usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's memory usage is at 100%, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high memory usage",description:"Performance is affected"},critical:{title:"Project memory usage is at 100%",description:"Performance is affected"}},docsUrl:"https://supabase.com/docs/guides/platform/exhaust-ram",buttonText:"Check usage",metric:"ram"},auth_rate_limit_exhaustion:{bannerContent:{warning:{title:"Your project has exceeded email rate limits in the past 24 hours and may not reliably send auth related emails to users",description:"Set up a custom SMTP and adjust rate limits where necessary to ensure that emails are sent out reliably."},critical:{title:void 0,description:void 0}},cardContent:{warning:{title:"Your project has exceeded email rate limits",description:"You will need to set up a custom SMTP provider and adjust rate limits where necessary"},critical:{title:void 0,description:void 0}},docsUrl:"https://supabase.com/docs/guides/platform/going-into-prod#auth-rate-limits",buttonText:"Enable Custom SMTP",metric:"auth_email_rate_limit"},multiple_resource_warnings:{bannerContent:{warning:{title:"Your project is currently exhausting multiple resources, and its performance is affected",description:"Check which resources are reaching their threshold on your project's usage page."},critical:{title:"Your project has exhausted multiple resources, and its performance is affected",description:"Check which resources have reached their threshold on your project's usage page."}},cardContent:{warning:{title:"Project is exhausting multiple resources",description:"Performance is affected."},critical:{title:"Project has exhausted multiple resources",description:"Performance is affected."}},docsUrl:void 0,buttonText:"Check usage",metric:null}}},59489:function(e,t,r){r.d(t,{L:function(){return i}});var s=r(44549);let i=(e,t,r)=>{var i,n;if("is_readonly_mode_enabled"===t)return s.x.is_readonly_mode_enabled.cardContent.warning;let a=e[t];if("string"==typeof a)return null===(n=s.x[t])||void 0===n?void 0:null===(i=n[r])||void 0===i?void 0:i[a]}},54175:function(e,t,r){r.d(t,{A:function(){return a}});var s=r(52322),i=r(12467);let n=e=>{let{className:t,delayIndex:r=0,animationDelay:n=150}=e;return(0,s.jsx)("div",{className:(0,i.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(r*n,"ms")}})},a=()=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n,{}),(0,s.jsx)(n,{className:"w-3/4"}),(0,s.jsx)(n,{className:"w-1/2"})]});t.Z=n},39668:function(e,t,r){r.d(t,{V:function(){return l}});var s=r(36492),i=r(49422),n=r(1388);async function a(e,t){let{projectRef:r}=e;if(!r)throw Error("Project ref is required");let{data:s,error:n}=await (0,i.U2)("/v1/projects/{ref}/branches",{params:{path:{ref:r}},signal:t});if(n){if("Preview branching is not enabled for this project."===n.message)return[];throw(0,i.S3)(n)}return s}let l=function(e){let{projectRef:t}=e,{enabled:r=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(n.x.list(t),e=>{let{signal:r}=e;return a({projectRef:t},r)},{enabled:r&&void 0!==t,...i})}},1388:function(e,t,r){r.d(t,{x:function(){return s}});let s={list:e=>["projects",e,"branches"],detail:(e,t)=>["projects",e,"branches",t]}},71681:function(e,t,r){r.d(t,{q:function(){return l}});var s=r(36492),i=r(49422),n=r(93486);async function a(e,t){let{organizationId:r}=e;if(!r)throw Error("organizationId is required");let{data:s,error:n}=await (0,i.U2)("/platform/integrations/github/connections",{params:{query:{organization_id:r}},signal:t});if(n)throw Error(n.message);return s.connections}let l=function(e){let{organizationId:t}=e,{enabled:r=!0,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(n.F.githubConnectionsList(t),e=>{let{signal:r}=e;return a({organizationId:t},r)},{enabled:r&&void 0!==t,...i})}},93486:function(e,t,r){r.d(t,{F:function(){return s}});let s={integrationsListWithOrg:e=>["organizations",e,"integrations"],integrationsList:()=>["organizations","integrations"],vercelProjectList:e=>["organizations",e,"vercel-projects"],vercelConnectionsList:e=>["organizations",e,"vercel-connections"],githubBranch:(e,t,r,s)=>["organizations",e,"branches",t,r,s],githubAuthorization:()=>["github-authorization"],githubRepositoriesList:()=>["github-repositories"],githubBranchesList:e=>["github-branches",e],githubConnectionsList:e=>["organizations",e,"github-connections"]}},71234:function(e,t,r){var s=r(52322);r(2784);var i=r(62206),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},30792:function(e,t,r){var s=r(52322);r(2784);var i=r(19521),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},91932:function(e,t,r){var s=r(52322);r(2784);var i=r(58980),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},64039:function(e,t,r){var s=r(52322);r(2784);var i=r(70523),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},14279:function(e,t,r){var s=r(52322);r(2784);var i=r(38872),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},2448:function(e,t,r){var s=r(52322);r(2784);var i=r(69026),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},80088:function(e,t,r){var s=r(52322);r(2784);var i=r(79048),n=r(83036);t.Z=function(e){return(0,s.jsx)(n.Z,{icon:i.Z,...e})}},18227:function(e,t,r){r.d(t,{X:function(){return o}});var s=r(52322),i=r(23681),n=r(83030),a=r(2784),l=r(12467);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",r),...a,children:(0,s.jsx)(i.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.Z,{className:"h-3 w-3",strokeWidth:4})})})});o.displayName=i.fC.displayName},54511:function(e,t,r){r.d(t,{di:function(){return f},e8:function(){return d},fu:function(){return x},mY:function(){return o},rb:function(){return u},sZ:function(){return c},zz:function(){return h}});var s=r(52322),i=r(43145),n=r(38880),a=r(2784),l=r(12467);let o=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-overlay text-foreground-light",r),...n})});o.displayName=i.mY.displayName;let c=a.forwardRef((e,t)=>{let{className:r,wrapperClassName:a,...o}=e;return(0,s.jsxs)("div",{className:(0,l.cn)("flex items-center border-b px-3",a),"cmdk-input-wrapper":"",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(i.mY.Input,{ref:t,className:(0,l.cn)("flex h-9 w-full rounded-md bg-transparent py-3 text-xs text outline-none placeholder:text-muted disabled:cursor-not-allowed disabled:opacity-50 border-none focus:ring-0",r),...o})]})});c.displayName=i.mY.Input.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...n})});d.displayName=i.mY.List.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY.Empty,{ref:t,className:(0,l.cn)("py-6 text-center text-xs",r),...n})});u.displayName=i.mY.Empty.displayName;let x=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground-light [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-foreground-muted",r),...n})});x.displayName=i.mY.Group.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border-overlay",r),...n})});h.displayName=i.mY.Separator.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.mY.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-xs outline-none aria-selected:bg-overlay-hover aria-selected:text-strong data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n})});f.displayName=i.mY.Item.displayName},88130:function(e,t,r){r.d(t,{_:function(){return c}});var s=r(52322),i=r(23707),n=r(10929),a=r(2784),l=r(12467);let o=(0,n.j)("text-sm text leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,l.cn)(o(),r),...n})});c.displayName=i.f.displayName},32281:function(e,t,r){r.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var s=r(52322),i=r(64266),n=r(2784),a=r(12467);let l=i.fC,o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,a.cn)("flex items-center border-b",r),...n})});o.displayName=i.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm  ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent",r),...n})});c.displayName=i.xz.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,a.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});d.displayName=i.VY.displayName},40414:function(e,t,r){r.d(t,{_v:function(){return c},aJ:function(){return o},u:function(){return l}});var s=r(52322),i=r(24990),n=r(2784),a=r(12467);i.zt;let l=e=>(0,s.jsx)(i.fC,{delayDuration:180,...e}),o=i.xz,c=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...l}=e;return(0,s.jsx)(i.VY,{ref:t,sideOffset:n,...l,className:(0,a.cn)("z-50 overflow-hidden rounded-md border bg-alternative px-3 py-1.5 text-xs text-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",r)})});c.displayName=i.VY.displayName}}]);