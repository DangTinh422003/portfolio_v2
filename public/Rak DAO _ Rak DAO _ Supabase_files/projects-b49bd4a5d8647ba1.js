(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{79606:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(70430)}])},70430:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(52322),n=t(5632),r=t(2784),i=t(23293),c=t(24459),l=t(39097),o=t.n(l),u=t(40386),d=t(27792),h=t(31840),j=t(34124),p=t(5761),x=t(13096),f=t(37185),g=e=>{let{organizations:s=f.Z6,search:t,setSearch:r}=e,i=(0,n.useRouter)(),l=(0,x.N3)("organizations:create"),{isSuccess:g}=(0,p.tl)();return(0,a.jsxs)("div",{className:"flex gap-x-3",children:[(0,a.jsxs)(u.h_,{children:[(0,a.jsx)(u.$F,{asChild:!0,children:(0,a.jsx)(d.z,{type:"primary",children:(0,a.jsx)("span",{children:"New project"})})}),(0,a.jsx)(u.AW,{side:"bottom",align:"center",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Ju,{children:"Choose organization"}),s.sort((e,s)=>e.name.localeCompare(s.name)).map(e=>(0,a.jsx)(u.Xi,{onClick:()=>i.push("/new/".concat(e.slug)),children:e.name},e.slug))]})})]}),c.Qy&&l&&g&&(0,a.jsx)(d.z,{type:"default",asChild:!0,children:(0,a.jsx)(o(),{href:"/new",className:"flex items-center gap-2",children:"New organization"})}),(0,a.jsx)(h.Z,{size:"tiny",placeholder:"Search for a project",icon:(0,a.jsx)(j.Z,{size:16}),className:"w-64 [&>div>div>div>input]:!pl-7 [&>div>div>div>div]:!pl-2",value:t,onChange:e=>r(e.target.value)})]})},m=t(3593),N=t(33105),v=t(9575),_=t(92378),y=t(76626);let w=()=>{let e=(0,n.useRouter)(),[s,t]=(0,r.useState)(""),{data:c,isError:l,isSuccess:o}=(0,p.tl)();(0,_.sc)();let u=(0,x.N3)("projects:create"),d=(0,x.P5)("navigationLayoutV2");return(0,r.useEffect)(()=>{if(d&&o){let s=localStorage.getItem(y.dA.RECENTLY_VISITED_ORGANIZATION),t=c.some(e=>e.slug===s);0===c.length?e.push("/new"):s&&t?e.push("/org/".concat(s)):e.push("/org/".concat(c[0].slug))}},[d,o,!0]),(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("div",{className:"py-4 px-5 ".concat(d?"h-full flex items-center justify-center":""),children:(0,a.jsx)(N.Z,{subject:"Failed to retrieve organizations"})}),d&&(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(v.Z,{})}),!d&&(0,a.jsxs)("div",{className:"p-5",children:[y.Qy&&u&&o&&(0,a.jsx)(g,{search:s,setSearch:t,organizations:c}),(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsx)(i.l,{search:s})})]})]})};w.getLayout=e=>(0,a.jsx)(m.p0,{title:"Dashboard",breadcrumbs:[{key:"supabase-projects",label:"Projects"}],children:e});var b=w}},function(e){e.O(0,[667,9678,8183,8421,3844,3145,8286,3517,5022,6751,1421,5573,1761,5232,2550,4056,3501,7689,6647,6909,5952,1685,9298,3293,9774,2888,179],function(){return e(e.s=79606)}),_N_E=e.O()}]);